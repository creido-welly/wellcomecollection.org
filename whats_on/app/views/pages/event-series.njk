{% extends 'layout/default.njk' %}

{% block pageMeta %}
  {% set metaContent = {
    type: 'website',
    title: 'Events',
    image: series.promoImage and series.promoImage.contentUrl,
    description: series.promoText,
    url: pageConfig.canonicalUri
  } %}
  {% component 'open-graph', { pageConfig: pageConfig, metaContent: metaContent } %}
  {% component 'twitter-card', { pageConfig: pageConfig, metaContent: metaContent } %}
  <meta name="description" content="{{ series.promoText }}" />
{% endblock %}

{% block body %}
  <script type="application/ld+json">
    [{% for event in events %}
      {{ event | jsonLd('eventLd') | safe }}
      {{ ',' if not loop.last }}
    {% endfor %}]
  </script>

  {% componentJsx 'EventSeriesPage', {
    events: events,
    series: series
  } %}
{% endblock %}
