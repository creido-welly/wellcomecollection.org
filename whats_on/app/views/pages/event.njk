{% extends 'layout/default.njk' %}

{% set description = event.promo.caption | safe | striptags %}
{% block pageMeta %}
  {% set metaContent = {
    type: 'website',
    title: event.title,
    image: event.promoImage and event.promoImage.contentUrl,
    description: event.promoText,
    url: pageConfig.canonicalUri
  } %}
  {% component 'open-graph', { pageConfig: pageConfig, metaContent: metaContent } %}
  {% component 'twitter-card', { pageConfig: pageConfig, metaContent: metaContent } %}
  <meta name="description" content="{{ event.promoText }}" />
{% endblock %}

{% block body %}
  <script type="application/ld+json">
    {{ event | jsonLd('eventLd') | safe }}
  </script>

  {% componentJsx "EventPage", { event: event } %}

{% endblock %}
