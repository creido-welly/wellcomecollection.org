{% if imageGallery.title %}
  <h2 class="image-gallery__heading">{{ imageGallery.title }}</h2>
{% endif %}

<div class="wobbly-edge wobbly-edge--white wobbly-edge--small js-wobbly-edge" data-is-static="true"></div>
<div class="image-gallery touch-scroll js-image-gallery" data-id="{{ id }}" id="{{ id }}">
  {% for item in imageGallery.items %}
    {% set slideNumbers = {current: loop.index, total: loop.length} %}
    {% set queries = '(max-width: 600px) 100vw, ' + (item.width/item.height)*640 + 'px' %}
    <div class="image-gallery__item">

      {% set imageModel = item | objectAssign({
        lazyload: true,
        sizesQueries: queries,
        slideNumbers: slideNumbers
      }) %}
      {% set tasl = {name: 'Tasl', model: imageModel}
        if (imageModel.title or imageModel.source.name or imageModel.copyright.name or imageModel.license)
        else null
      %}
      {% componentJsx 'CaptionedImage', imageModel, [
        {name: 'Image', model: imageModel},
        tasl
      ] %}

    </div>
  {% endfor %}
</div>
