<figure class="captioned-image {% for modifier in modifiers %} captioned-image--{{modifier}}{% endfor %}">
  <div class="captioned-image__image-container">
  {% set sizes = image | getImageSizesFor %}
  {% set comma = joiner() %}
  <img class="image"
        src="{{ image.contentUrl }}?w={{ sizes[3] }}"
        srcset="
        {%- for size in sizes -%}
          {{ comma() }}{{ image.contentUrl }}?w={{ size }} {{ size }}w
        {%- endfor %}"
        {% if sizesQueries %}
          sizes="{{ sizesQueries }}"
        {% endif %}
        alt="{{ image.caption | striptags() }}" />
  </div>

  {% block figcaption %}
    <figcaption class="captioned-image__caption">
      <div class="flex">
        <div>{% icon 'other/picture' %}</div>
        <div>{{ image.caption }}</div>
      </div>
    </figcaption>
  {% endblock %}
</figure>
