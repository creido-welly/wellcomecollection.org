{% extends 'layout/default.njk' %}

{% set description = event.promo.caption | safe | striptags %}
{% block pageMeta %}
  {% set metaContent = {
    type: 'website',
    title: event.title,
    image: event.promo.image.contentUrl,
    description: description,
    url: pageConfig.canonicalUri
  } %}
  {% component 'open-graph', { pageConfig: pageConfig, metaContent: metaContent } %}
  {% component 'twitter-card', { pageConfig: pageConfig, metaContent: metaContent } %}
  <meta name="description" content="{{ description }}" />
{% endblock %}

{% block body %}
  <script type="application/ld+json">
    {{ event | jsonLd('eventLd') | safe }}
  </script>
  {% if event.schedule.length > 0 %}
    {% include 'partials/event_with_schedule.njk' %}
  {% else %}
    {% include 'partials/event_without_schedule.njk' %}
  {% endif %}
{% endblock %}
